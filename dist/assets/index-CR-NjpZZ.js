import L from"https://unpkg.com/split-type?module";import*as a from"https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.module.js";import{GLTFLoader as x}from"https://cdn.skypack.dev/three@0.128.0/examples/jsm/loaders/GLTFLoader.js";import{ScrollTrigger as y}from"https://cdn.jsdelivr.net/npm/gsap@3.12.5/all.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const i=(window.innerWidth-180)/6,o=gsap.timeline();o.to(".count",{x:-900,duration:.85,delay:.5,ease:"power4.inOut"});for(let n=1;n<=6;n++){const p=-900+n*180;o.to(".count",{x:p,duration:.85,ease:"power4.inOut",onStart:()=>{gsap.to(".count-wrapper",{x:i*n,duration:.85,ease:"power4.inOut"})}})}gsap.set(".revealer svg",{scale:0});const r=[6,6.5,7];document.querySelectorAll(".revealer svg").forEach((n,p)=>{gsap.to(n,{scale:45,duration:1.5,ease:"power4.inOut",delay:r[p],onComplete:()=>{p===r.length-1&&(document.querySelector(".loader").remove(),gsap.to([".all-projects",".shiny-button"],{opacity:1,y:0,duration:1.2,ease:"power3.out",stagger:.2,pointerEvents:"auto"}),ScrollTrigger.create({trigger:"#section3",start:"top center",once:!0,onEnter:()=>{threeInitialized||(initThreeJSInSection3(),threeInitialized=!0)}}))}})}),gsap.to(".header h1",{onStart:()=>{gsap.to(".toggle-btn",{scale:1,duration:1,ease:"power4.inOut"}),gsap.to(".all-projects",{backgroundPosition:"200% center",duration:2,repeat:-1,ease:"power2.inOut"}),gsap.to(".text-shine",{backgroundPosition:"200% center",duration:2.5,repeat:-1,ease:"power2.inOut"}),gsap.to("p",{y:0,duration:1,stagger:.1,ease:"power3.out"}),gsap.to("h1",{y:0,duration:1,stagger:.1,ease:"power3.out"}),gsap.to(".womanGlass",{opacity:1,duration:2,ease:"power3.out",delay:.2})},rotateY:0,opacity:1,duration:2,ease:"power3.out",delay:8}),gsap.from("#section2 div h1",{scrollTrigger:{trigger:"#section2 div h1",start:"top 80%",toggleActions:"play none none none"},y:100,opacity:0,duration:10,ease:"power3.out"}),gsap.registerPlugin(ScrollTrigger,ScrollSmoother),ScrollSmoother.create({wrapper:"#smooth-wrapper",content:"#smooth-content",smooth:1.5,effects:!0}),document.querySelectorAll("section").forEach((n,p)=>{ScrollTrigger.create({trigger:n,start:"top top",end:"bottom top",snap:1,onEnter:()=>{gsap.to(window,{scrollTo:{y:n,autoKill:!1},duration:20,ease:"power2.out"})},onEnterBack:()=>{gsap.to(window,{scrollTo:{y:n,autoKill:!1},duration:20,ease:"power2.out"})}})})});document.querySelector(".toggle-btn").addEventListener("click",()=>{window.location.href="contact.html"});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".page-transition");e&&(e.style.display="block",gsap.fromTo(e,{opacity:1},{opacity:0,duration:1,delay:2.2,ease:"power2.out",onComplete:()=>{e.style.display="none"}})),document.querySelectorAll("a, button[data-link]").forEach(t=>{t.addEventListener("click",s=>{const i=t.getAttribute("href")||t.dataset.link;i&&!i.startsWith("#")&&!i.startsWith("http")&&!i.endsWith(".pdf")&&!i.startsWith("mailto:")&&(s.preventDefault(),e?(e.style.display="block",gsap.fromTo(e,{opacity:0},{opacity:1,duration:.8,ease:"power2.inOut",onComplete:()=>{window.location.href=i}})):window.location.href=i)})})});gsap.registerPlugin(y);const b=new L("#crystalText",{types:"words"});gsap.from(b.words,{opacity:0,y:60,stagger:.1,duration:6,ease:"power2.out",scrollTrigger:{trigger:"#crystalText",start:"top 80%",end:"top 30%",toggleActions:"play none none reverse"}});gsap.from(".crystal-label",{opacity:0,y:60,duration:3,delay:1,ease:"power2.out",scrollTrigger:{trigger:"#section2",start:"top 80%",end:"top 30%",toggleActions:"play none none reverse"}});gsap.from(".defined",{opacity:0,y:60,duration:3,delay:1,ease:"power2.out",scrollTrigger:{trigger:"#section",start:"top 80%",end:"top 30%",toggleActions:"play none none reverse"}});gsap.from(".crystalText",{opacity:0,y:60,duration:3,delay:1,ease:"power2.out",scrollTrigger:{trigger:"#section4",start:"top 80%",end:"top 30%",toggleActions:"play none none reverse"}});const f=document.querySelector(".model2");if(f){const e=new a.Scene,t=new a.PerspectiveCamera(60,f.offsetWidth/f.offsetHeight,.1,1e3);t.position.set(0,0,5);const s=new a.WebGLRenderer({alpha:!0,antialias:!0});s.setSize(f.offsetWidth,f.offsetHeight),f.appendChild(s.domElement);const i=new a.Clock;e.add(new a.AmbientLight(16777215,1));const o=new a.DirectionalLight(16777215,1.2);o.position.set(3,9,9),e.add(o);const r=new a.DirectionalLight(new a.Color("#F37F9C"),0);e.add(r);const d=()=>{const n=i.getElapsedTime();r.intensity=Math.max(0,Math.sin(n/3*Math.PI)),r.position.set(Math.sin(n)*5,Math.cos(n*.5)*5,Math.sin(n*.3)*5)};Promise.all([fetch("three/crystalShader.vert").then(n=>n.text()),fetch("three/crystalShader.frag").then(n=>n.text())]).then(([n,p])=>{const h=new a.ShaderMaterial({vertexShader:n,fragmentShader:p,uniforms:{time:{value:0}},mouse:{value:new a.Vector2(0,0)},transparent:!0,side:a.DoubleSide});new x().load("three/model2.glb",c=>{const u=c.scene;u.traverse(S=>{S.isMesh&&(S.material=h)});const l=new a.Group;l.add(u),e.add(l),u.scale.set(1,1,1),u.rotation.y=Math.PI,l.position.y=-2,l.rotation.x=Math.PI/2,y.create({trigger:"#section2",start:"top 80%",end:"top 30%",onEnter:()=>{gsap.to(l.position,{y:0,duration:2,ease:"power4.out"}),gsap.to(l.rotation,{x:0,duration:2,ease:"power2.out"})},onLeaveBack:()=>{l.position.y=-2,l.rotation.x=Math.PI*2},once:!1,invalidateOnRefresh:!0});function v(){requestAnimationFrame(v),h.uniforms.time.value=i.getElapsedTime(),d(),u.rotation.y+=8e-4,s.render(e,t)}v()})})}const m=document.querySelector(".model3");if(m){const e=new a.Scene,t=new a.PerspectiveCamera(60,m.offsetWidth/m.offsetHeight,.1,1e3);t.position.set(0,0,3);const s=new a.WebGLRenderer({alpha:!0,antialias:!0});s.setSize(m.offsetWidth,m.offsetHeight),m.appendChild(s.domElement);const i=new a.Clock;e.add(new a.AmbientLight(16777215,1));const o=new a.DirectionalLight(16777215,1.5);o.position.set(3,9,9),e.add(o),Promise.all([fetch("three/crystalShader.vert").then(r=>r.text()),fetch("three/crystalShader.frag").then(r=>r.text())]).then(([r,d])=>{const n=new a.ShaderMaterial({vertexShader:r,fragmentShader:d,uniforms:{time:{value:0},mouse:{value:new a.Vector2(0,0)}},transparent:!0,side:a.DoubleSide});new x().load("three/model3.glb",h=>{const g=h.scene;g.traverse(l=>{l.isMesh&&(l.material=n)});const c=new a.Group;c.add(g),e.add(c),g.scale.set(1.5,1.5,1.5),g.rotation.y=Math.PI,c.position.y=-2,c.rotation.x=Math.PI*2,y.create({trigger:"#section3",start:"top 80%",end:"top 30%",onEnter:()=>{gsap.to(c.position,{y:0,duration:2,ease:"power4.out"}),gsap.to(c.rotation,{x:0,duration:2,ease:"power2.out"})},onLeaveBack:()=>{gsap.to(c.position,{y:-2,duration:2,ease:"power4.in"}),gsap.to(c.rotation,{x:Math.PI/2,duration:2,ease:"power2.in"})},once:!1,invalidateOnRefresh:!0}),y.create({trigger:"#section3",start:"top 50%",end:"bottom top",scrub:!1,toggleActions:"play reverse play reverse",onEnter:()=>{gsap.to(c.position,{z:.5,duration:2,ease:"power3.inOut"}),gsap.to(c.scale,{x:4,y:4,z:4,duration:2,ease:"power3.inOut"}),gsap.to("#finalMessage",{opacity:1,duration:2,delay:1})},onLeaveBack:()=>{gsap.to(c.position,{z:3,duration:2,ease:"power3.inOut"}),gsap.to(c.scale,{x:1.5,y:1.5,z:1.5,duration:2,ease:"power3.inOut"}),gsap.to("#finalMessage",{opacity:0,duration:1})}});function u(){requestAnimationFrame(u),n.uniforms.time.value=i.getElapsedTime(),g.rotation.y+=8e-4,s.render(e,t)}u()})})}const T=document.querySelector(".bg-impulse-layer");function M(){const e=document.createElement("div");e.classList.add("bg-pulse");const t=Math.random()*window.innerWidth,s=Math.random()*window.innerHeight;e.style.left=`${t}px`,e.style.top=`${s}px`,T.appendChild(e),e.animate([{transform:"scale(0.5)",opacity:.6},{transform:"scale(5.5)",opacity:0}],{duration:2e3+Math.random()*2e3,easing:"ease-out"}),setTimeout(()=>{e.remove()},3e3)}setInterval(()=>{Math.random()>.2&&M()},1e3);const w=document.querySelector(".custom-cursor"),E=w.querySelector("span");document.addEventListener("mousemove",e=>{w.classList.add("visible"),gsap.to(w,{x:e.clientX,y:e.clientY,duration:.2,ease:"power2.out"});const t=document.elementFromPoint(e.clientX,e.clientY),s=(t==null?void 0:t.tagName)==="A"||(t==null?void 0:t.tagName)==="BUTTON"||(t==null?void 0:t.onclick)||getComputedStyle(t).cursor==="pointer";E.textContent=s?"Click":"Scroll"});document.addEventListener("mouseleave",()=>{w.classList.remove("visible")});
